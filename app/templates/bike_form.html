{% extends "base.html" %}
{% block content %}
<h2 class="section-title text-2xl md:text-3xl font-semibold mb-4">{{ 'Nieuwe fiets' if mode == 'new' else 'Fiets bewerken' }}</h2>
<form method="POST" class="card p-6 space-y-4">
  <div>
    <label class="block mb-1 font-medium">Naam</label>
    <input name="name" type="text" class="border w-full rounded p-2 focus:outline-none focus:ring-2 focus:ring-green-200" value="{{ bike.name if bike else '' }}" required>
  </div>
  <div>
    <label class="block mb-1 font-medium">Type</label>
    <select name="type" class="border w-full rounded p-2 focus:outline-none focus:ring-2 focus:ring-green-200">
      {% set tval = (bike.type|lower) if bike and bike.type else 'gewoon' %}
      <option value="gewoon" {{ 'selected' if tval=='gewoon' else '' }}>gewoon</option>
      <option value="elektrisch" {{ 'selected' if tval=='elektrisch' else '' }}>elektrisch</option>
    </select>
  </div>
  <div>
    <label class="block mb-1 font-medium">Status</label>
    <select name="status" class="border w-full rounded p-2">
      {% set st = bike.status if bike else 'available' %}
      <option value="available" {{ 'selected' if st=='available' else '' }}>{{ t('beschikbaar') }}</option>
      <option value="rented" {{ 'selected' if st=='rented' else '' }}>{{ t('verhuurd') }}</option>
      <option value="repair" {{ 'selected' if st=='repair' else '' }}>{{ t('in herstelling') }}</option>
    </select>
  </div>
  <div class="flex items-center gap-3">
    <button class="btn btn-primary tooltip" aria-label="{{ 'Aanmaken' if mode == 'new' else t('Opslaan') }}" title="{{ 'Aanmaken' if mode == 'new' else t('Opslaan') }}" data-tooltip="{{ 'Aanmaken' if mode == 'new' else t('Opslaan') }}">
      <span class="sr-only">{{ 'Aanmaken' if mode == 'new' else t('Opslaan') }}</span>
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
        <path d="M17 21V13H7v8"/>
        <path d="M7 3v5h8"/>
      </svg>
    </button>
    <a class="btn" href="{{ url_for('main.bike_list') }}">Annuleren</a>
  </div>
</form>
{% endblock %}
