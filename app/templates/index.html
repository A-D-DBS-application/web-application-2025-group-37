{% extends "base.html" %}
{% block content %}

<!-- Hero -->
<section class="hero">
  <div class="container mx-auto grid gap-8 md:grid-cols-2 items-center">
    <!-- Text -->
    <div class="reveal">
      <h2 class="section-title text-3xl md:text-4xl font-semibold mb-4">{{ t('Welkom bij OpWielekes') }}</h2>
      <p class="text-gray-600 mb-6">{{ t('Huur, bekijk en beheer fietsen eenvoudig. Ontdek onze collectie en vind de fiets die bij jou past!') }}</p>
      <a href="{{ url_for('main.inventory') }}" class="btn btn-primary px-6 py-3">{{ t('Bekijk Fietsen') }}</a>
    </div>

    <!-- Collage -->
    <div class="grid grid-cols-2 gap-4 md:gap-6">
      <div class="image-card aspect-[4/3] reveal floating">
        <img src="{{ static_or('img/home/collage-1.jpg', 'https://source.unsplash.com/800x600/?family,bike') }}" alt="{{ t('Family cycling') }}" loading="lazy">
      </div>
      <div class="image-card aspect-[4/3] reveal floating delay-1">
        <img src="{{ static_or('img/home/collage-2.jpg', 'https://source.unsplash.com/800x600/?kids,bicycle') }}" alt="{{ t('Kids with bicycles') }}" loading="lazy">
      </div>
      <div class="image-card aspect-[4/3] reveal floating delay-2">
        <img src="{{ static_or('img/home/collage-3.jpg', 'https://source.unsplash.com/800x600/?parents,children,bike') }}" alt="{{ t('Parents and children with bikes') }}" loading="lazy">
      </div>
      <div class="image-card aspect-[4/3] reveal">
        <img src="{{ static_or('img/home/collage-4.jpg', 'https://source.unsplash.com/800x600/?happy,cycling') }}" alt="{{ t('Happy cycling') }}" loading="lazy">
      </div>
    </div>
  </div>
</section>

<!-- About/USP teaser -->
<section class="mt-16">
  <div class="container mx-auto text-center mb-8 reveal">
    <h3 class="section-title text-2xl md:text-3xl font-semibold mb-3">{{ t('Waarom OpWielekes?') }}</h3>
    <p class="text-gray-600">{{ t('Samen maken we fietsen toegankelijk, leuk en duurzaam voor elk gezin.') }}</p>
  </div>
  <div class="container mx-auto grid gap-4 md:gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4">
    <div class="card p-5 reveal">
      <div class="text-3xl mb-2">üíö</div>
      <h4 class="font-semibold mb-1">{{ t('Betaalbaar') }}</h4>
      <p class="text-gray-600 text-sm">{{ t('Lage kosten en eerlijke formules zodat iedereen kan fietsen.') }}</p>
    </div>
    <div class="card p-5 reveal">
      <div class="text-3xl mb-2">üå±</div>
      <h4 class="font-semibold mb-1">{{ t('Duurzaam') }}</h4>
      <p class="text-gray-600 text-sm">{{ t('Tweedehands en circulair: minder afval, meer rijplezier.') }}</p>
    </div>
    <div class="card p-5 reveal">
      <div class="text-3xl mb-2">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
      <h4 class="font-semibold mb-1">{{ t('Gemeenschap') }}</h4>
      <p class="text-gray-600 text-sm">{{ t('Vrijwilligers, ouders en kinderen bouwen samen aan mobiliteit.') }}</p>
    </div>
    <div class="card p-5 reveal">
      <div class="text-3xl mb-2">üõ°Ô∏è</div>
      <h4 class="font-semibold mb-1">{{ t('Veiligheid') }}</h4>
      <p class="text-gray-600 text-sm">{{ t('We letten op onderhoud, helmgebruik en veilige routes.') }}</p>
    </div>
  </div>
  <div class="text-center mt-8 reveal">
    <a href="{{ url_for('main.about') }}" class="btn btn-primary">{{ t('Meer over ons') }}</a>
  </div>
  
</section>

<!-- Carousel -->
<section class="mt-12 md:mt-16">
  <div class="carousel reveal" id="heroCarousel">
    <div class="carousel-track">
      <div class="carousel-slide"><img src="{{ static_or('img/home/slide-1.jpg', 'https://source.unsplash.com/1600x900/?family,cycling') }}" alt="{{ t('Family cycling together') }}" loading="lazy"></div>
      <div class="carousel-slide"><img src="{{ static_or('img/home/slide-2.jpg', 'https://source.unsplash.com/1600x900/?bicycle,park') }}" alt="{{ t('Bike in park') }}" loading="lazy"></div>
      <div class="carousel-slide"><img src="{{ static_or('img/home/slide-3.jpg', 'https://source.unsplash.com/1600x900/?kids,helmet,bike') }}" alt="{{ t('Kids with helmets') }}" loading="lazy"></div>
    </div>
    <div class="carousel-dots" aria-hidden="true"></div>
  </div>
</section>

<!-- Reveal on scroll script (tiny) -->
<script>
  (function(){
    var items = document.querySelectorAll('.reveal');
    if ('IntersectionObserver' in window) {
      var io = new IntersectionObserver(function(entries){
        entries.forEach(function(e){ if (e.isIntersecting) { e.target.classList.add('show'); io.unobserve(e.target); } });
      }, { rootMargin: '0px 0px -10% 0px' });
      items.forEach(function(el){ io.observe(el); });
    } else {
      items.forEach(function(el){ el.classList.add('show'); });
    }
  })();
  // Carousel autoslide with pause on hover
  (function(){
    var root = document.getElementById('heroCarousel');
    if (!root) return;
    var track = root.querySelector('.carousel-track');
    var slides = Array.prototype.slice.call(track.children);
    var dotsWrap = root.querySelector('.carousel-dots');
    var idx = 0, timer = null, delay = 4000;

    function update(){
      track.style.transform = 'translateX(' + (-idx * 100) + '%)';
      if (dotsWrap) {
        dotsWrap.querySelectorAll('.carousel-dot').forEach(function(d, i){ d.classList.toggle('active', i === idx); });
      }
    }

    // Build dots
    if (dotsWrap) {
      slides.forEach(function(_, i){
        var b = document.createElement('button');
        b.type = 'button'; b.className = 'carousel-dot' + (i===0 ? ' active' : '');
        b.addEventListener('click', function(){ idx = i; update(); restart(); });
        dotsWrap.appendChild(b);
      });
    }

    function next(){ idx = (idx + 1) % slides.length; update(); }
    function start(){ if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) { timer = setInterval(next, delay); } }
    function stop(){ if (timer) { clearInterval(timer); timer = null; } }
    function restart(){ stop(); start(); }

    root.addEventListener('mouseenter', stop);
    root.addEventListener('mouseleave', start);
    root.addEventListener('focusin', stop);
    root.addEventListener('focusout', start);

    start();
    update();
  })();
  </script>
{% endblock %}
